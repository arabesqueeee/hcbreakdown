<mvc:View controllerName="com.tsmc.hcbreakdown.controller.Main"
    xmlns:form="sap.ui.layout.form"
    xmlns:core="sap.ui.core"
    xmlns:u="sap.ui.unified"
    xmlns:mvc="sap.ui.core.mvc"
    xmlns="sap.m"
    xmlns:l="sap.ui.layout"
    xmlns:ui="sap.ui.table"	>
    <App id="idAppControl" >
        <pages>
            <Page
        id="wizardContentPage"
        showHeader="false">
                <content>
                    <IconTabBar
		id="idIconTabBar"
		select="onFilterSelect"
		class="sapUiResponsiveContentPadding">
                        <items>
                            <IconTabFilter
				icon="sap-icon://begin"
				iconColor="Positive"  
				text="年度提報"
				key="yrequest" >
                                <form:SimpleForm  layout="ResponsiveGridLayout" columnsXL="1" columnsL="1" columnsM="1">
                                    <Label text="选择填报年度"  required="true" >
                                        <layoutData>
                                            <l:GridData span="XL1 L1 M1 S12" />
                                        </layoutData>
                                    </Label>
                                    <ComboBox id = "comYearPrdReq"  
                                    items="{
					                        path: 'yper>/list',
				                        	sorter: { path: 'text' }
			                        	}">
                                        <core:Item key="{yper>Id}" text="{yper>Text}" />
                                        <layoutData>
                                            <l:GridData span="XL2 L2 M2 S12" />
                                        </layoutData>
                                    </ComboBox>
                                    <Label text="組織單位"  required="true" >
                                        <layoutData>
                                            <l:GridData span="XL1 L1 M1 S12" />
                                        </layoutData>
                                    </Label>
                                    <Input id="yreqorgid"  width="20%" value="{filter>/orgid}"  description="" 	showValueHelp="true" 	valueHelpRequest=".onValueHelpRpOrgid">
                                        <layoutData>
                                            <l:GridData span="XL8 L8 M8 S12" />
                                        </layoutData>
                                    </Input>
                                </form:SimpleForm>
                                <ui:Table
                	          rows="{yreq>/OrgCollection}"
                              visibleRowCount="{= ${yreq>/OrgCollection}.length}"
				              
				              selectionMode="Single" 
                              editable="true"
                              id="yrequestCollection"
				                    ariaLabelledBy="title">
                                    <ui:extension>
                                        <OverflowToolbar>
                                            <ToolbarSpacer/>
                                            <Button icon="sap-icon://notes" press="onSaveYearReq" type="Transparent" id="onSaveYearReqDraft" text="暫存"/>
                                            <Button icon="sap-icon://save" press="onSaveYearReq" type="Transparent" id="onSubmitYearReq" text="提交"/>
                                        </OverflowToolbar>
                                    </ui:extension>
                                    <ui:Column visible="false" >
                                        <Label text="id" />
                                        <ui:template>
                                            <Text text="{yreq>empId}"/>
                                        </ui:template>
                                    </ui:Column>
                                    <ui:Column  width="4rem">
                                        <Label text="年份" />
                                        <ui:template>
                                            <Text text="{yreq>year}"/>
                                        </ui:template>
                                    </ui:Column>
                                    <ui:Column width="3rem">
                                        <Label text="季度" />
                                        <ui:template>
                                            <Text text="{yreq>quarter}"/>
                                        </ui:template>
                                    </ui:Column>
                                    <ui:Column  width="7rem">
                                        <Label text="組織單位" />
                                        <ui:template>
                                            <Text text="{yreq>org}"/>
                                        </ui:template>
                                    </ui:Column>
                                    <ui:Column  width="7rem">
                                        <Label text="組織單位" />
                                        <ui:template>
                                            <Text text="{yreq>orgName}"/>
                                        </ui:template>
                                    </ui:Column>
                                    <ui:Column width="12rem" visible = "false">
                                        <Label text="DL Budget (上一季budget)" />
                                        <ui:template>
                                            <Text text="{yreq>lstDlAdjust}"/>
                                        </ui:template>
                                    </ui:Column>
                                    <ui:Column width="12rem" visible = "false">
                                        <Label text="IDL Budget (上一季budget)" />
                                        <ui:template>
                                            <Text text="{yreq>lstIdlAdjust}"/>
                                        </ui:template>
                                    </ui:Column>
                                    <ui:Column width="12rem">
                                        <Label text="DL Budget (H/C request)" />
                                        <ui:template>
                                            <Input  value="{yreq>dlReqBudget}" 	type="Number"  	placeholder="輸入提報的數量"/>
                                        </ui:template>
                                    </ui:Column>
                                    <ui:Column width="12rem">
                                        <Label text="IDL Budget (H/C request)" />
                                        <ui:template>
                                            <Input  value="{yreq>idlReqBudget}"   type="Number"  	placeholder="輸入提報的數量"/>
                                        </ui:template>
                                    </ui:Column>
                                    <ui:Column  width="8rem">
                                        <Label text="DL Justification" />
                                        <ui:template>
                                            <Input  value="{yreq>dlJustification}"/>
                                        </ui:template>
                                    </ui:Column>
                                    <ui:Column width="8rem">
                                        <Label text="IDL Justification" />
                                        <ui:template>
                                            <Input  value="{yreq>idlJustification}"/>
                                        </ui:template>
                                    </ui:Column>
                                    <ui:Column width="10rem" visible = "false">
                                        <Label text="IDL Budget (調整)" />
                                        <ui:template>
                                            <Text text="{yreq>idlAdjBudget}"/>
                                        </ui:template>
                                    </ui:Column>
                                    <ui:Column  width="10rem" visible = "false">
                                        <Label text="DL Budget (調整)" />
                                        <ui:template>
                                            <Text text="{yreq>dlAdjBudget}"/>
                                        </ui:template>
                                    </ui:Column>
                                    <ui:Column width="10rem" visible = "false">
                                        <Label text="DL Budget (Proposal)" />
                                        <ui:template>
                                            <Text text="{yreq>DlBudgetProposal}"/>
                                        </ui:template>
                                    </ui:Column>
                                    <ui:Column width="10rem" visible = "false">
                                        <Label text="IDL Budget (Proposal)" />
                                        <ui:template>
                                            <Text text="{yreq>IDlBudgetProposal}"/>
                                        </ui:template>
                                    </ui:Column>
                                    <ui:Column width="8rem" visible = "false">
                                        <Label text="DL Allowance" />
                                        <ui:template>
                                            <Text text="{yreq>dlAllowance}"/>
                                        </ui:template>
                                    </ui:Column>
                                    <ui:Column width="8rem" visible = "false">
                                        <Label text="IDL Allowance" />
                                        <ui:template>
                                            <Text text="{yreq>idlAllowance}"/>
                                        </ui:template>
                                    </ui:Column>
                                    <ui:Column width="13rem" visible = "false">
                                        <Label text="HC Budget (Proposal IDL+DL)" />
                                        <ui:template>
                                            <Text text="{yreq>prosalBudget}"/>
                                        </ui:template>
                                    </ui:Column>
                                    <ui:Column  width="8rem">
                                        <Label text="Actual DL" />
                                        <ui:template>
                                            <Text text="{yreq>actualDl}"/>
                                        </ui:template>
                                    </ui:Column>
                                    <ui:Column  width="8rem">
                                        <Label text="Actual IDL" />
                                        <ui:template>
                                            <Text text="{yreq>actualIdl}"/>
                                        </ui:template>
                                    </ui:Column>
                                    <ui:Column width="8rem">
                                        <Label text="Actual HC" />
                                        <ui:template>
                                            <Text text="{yreq>actualHc}"/>
                                        </ui:template>
                                    </ui:Column>
                                </ui:Table>
                            </IconTabFilter>
                            <IconTabFilter
				icon="sap-icon://begin"
				iconColor="Positive"  
				text="季度提報"
				key="qrequest" >
                                <form:SimpleForm  layout="ResponsiveGridLayout" columnsXL="1" columnsL="1" columnsM="1">
                                    <Label text="选择填报期间"  required="true" >
                                        <layoutData>
                                            <l:GridData span="XL1 L1 M1 S12" />
                                        </layoutData>
                                    </Label>
                                    <ComboBox id = "comPeriodReq"
                                       items="{
					                        path: 'aper>/list',
				                        	sorter: { path: 'text' }
			                        	}">
                                        <core:Item key="{aper>Id}" text="{aper>Text}" />
                                        <layoutData>
                                            <l:GridData span="XL2 L2 M2 S12" />
                                        </layoutData>
                                    </ComboBox>
                                    <Label text="組織單位"  required="true" >
                                        <layoutData>
                                            <l:GridData span="XL1 L1 M1 S12" />
                                        </layoutData>
                                    </Label>
                                    <Input id="qreqorgid"  width="20%" value="{filter>/orgid}"  description="" 	showValueHelp="true" 	valueHelpRequest=".onValueHelpQROrgid">
                                        <layoutData>
                                            <l:GridData span="XL8 L8 M8 S12" />
                                        </layoutData>
                                    </Input>
                                </form:SimpleForm>
                                <ui:Table
                	          rows="{yref>/OrgCollection}"
				                    selectionMode="Single" 
                            id="requestCollectionRefer" 
                            visibleRowCount="{= ${yref>/OrgCollection}.length}"
				              
				                    ariaLabelledBy="title">
                                    <ui:extension>
                                        <OverflowToolbar>
                                            <Title text="年度提報參考" />
                                            <ToolbarSpacer/>
                                        </OverflowToolbar>
                                    </ui:extension>
                                    <ui:Column visible="false" >
                                        <Label text="id" />
                                        <ui:template>
                                            <Text text="{yref>empId}"/>
                                        </ui:template>
                                    </ui:Column>
                                    <ui:Column  width="4rem">
                                        <Label text="年份" />
                                        <ui:template>
                                            <Text text="{yref>year}"/>
                                        </ui:template>
                                    </ui:Column>
                                    <ui:Column width="3rem">
                                        <Label text="季度" />
                                        <ui:template>
                                            <Text text="{yref>quarter}"/>
                                        </ui:template>
                                    </ui:Column>
                                    <ui:Column  width="7rem">
                                        <Label text="組織單位" />
                                        <ui:template>
                                            <Text text="{yref>org}"/>
                                        </ui:template>
                                    </ui:Column>
                                    <ui:Column  width="7rem">
                                        <Label text="組織單位" />
                                        <ui:template>
                                            <Text text="{yref>orgName}"/>
                                        </ui:template>
                                    </ui:Column>
                                    <ui:Column width="12rem">
                                        <Label text="DL Budget (H/C request)" />
                                        <ui:template>
                                            <Text  text="{yref>dlReqBudget}"/>
                                        </ui:template>
                                    </ui:Column>
                                    <ui:Column width="12rem">
                                        <Label text="IDL Budget (H/C request)" />
                                        <ui:template>
                                            <Text  text="{yref>idlReqBudget}"/>
                                        </ui:template>
                                    </ui:Column>
                                    <ui:Column  width="8rem">
                                        <Label text="DL Justification" />
                                        <ui:template>
                                            <Text  text="{yref>dlJustification}"/>
                                        </ui:template>
                                    </ui:Column>
                                    <ui:Column width="8rem">
                                        <Label text="IDL Justification" />
                                        <ui:template>
                                            <Text  text="{yref>idlJustification}"/>
                                        </ui:template>
                                    </ui:Column>
                                </ui:Table>
                                <ui:Table
                	          rows="{qreq>/OrgCollection}"
                             visibleRowCount="{= ${qreq>/OrgCollection}.length}" 
				              selectionMode="Single" 
                              id="qrequestCollection"
				              ariaLabelledBy="title">
                                    <ui:extension>
                                        <OverflowToolbar>
                                            <Title text="季度提報"/>
                                            <ToolbarSpacer/>
                                        </OverflowToolbar>
                                    </ui:extension>
                                    <ui:extension>
                                        <OverflowToolbar>
                                            <ToolbarSpacer/>
                                            <Button icon="sap-icon://notes" press="onSaveYearReq" type="Transparent" id="onSaveQReqDraft" text="暫存"/>
                                            <Button icon="sap-icon://save" press="onSaveYearReq" type="Transparent" id="onSubmitQReq" text="提交"/>
                                        </OverflowToolbar>
                                    </ui:extension>
                                    <ui:Column visible="false" >
                                        <Label text="id" />
                                        <ui:template>
                                            <Text text="{qreq>empId}"/>
                                        </ui:template>
                                    </ui:Column>
                                    <ui:Column  width="4rem">
                                        <Label text="年份" />
                                        <ui:template>
                                            <Text text="{qreq>year}"/>
                                        </ui:template>
                                    </ui:Column>
                                    <ui:Column width="3rem">
                                        <Label text="季度" />
                                        <ui:template>
                                            <Text text="{qreq>quarter}"/>
                                        </ui:template>
                                    </ui:Column>
                                    <ui:Column  width="7rem">
                                        <Label text="組織單位" />
                                        <ui:template>
                                            <Text text="{qreq>org}"/>
                                        </ui:template>
                                    </ui:Column>
                                    <ui:Column  width="7rem">
                                        <Label text="組織單位" />
                                        <ui:template>
                                            <Text text="{qreq>orgName}"/>
                                        </ui:template>
                                    </ui:Column>
                                    <ui:Column width="12rem">
                                        <Label text="DL Budget (上一季budget)" />
                                        <ui:template>
                                            <Text text="{qreq>lstDlAdjust}" />
                                        </ui:template>
                                    </ui:Column>
                                    <ui:Column width="12rem">
                                        <Label text="IDL Budget (上一季budget)" />
                                        <ui:template>
                                            <Text text="{qreq>lstIdlAdjust}"/>
                                        </ui:template>
                                    </ui:Column>
                                    <ui:Column width="12rem">
                                        <Label text="DL Budget (H/C request)" />
                                        <ui:template>
                                            <Input  value="{qreq>dlReqBudget}" 	type="Number"  	placeholder="輸入提報的數量"/>
                                        </ui:template>
                                    </ui:Column>
                                    <ui:Column width="12rem">
                                        <Label text="IDL Budget (H/C request)" />
                                        <ui:template>
                                            <Input  value="{qreq>idlReqBudget}"   type="Number"  	placeholder="輸入提報的數量"/>
                                        </ui:template>
                                    </ui:Column>
                                    <ui:Column  width="8rem">
                                        <Label text="DL Justification" />
                                        <ui:template>
                                            <Input  value="{qreq>dlJustification}"/>
                                        </ui:template>
                                    </ui:Column>
                                    <ui:Column width="8rem">
                                        <Label text="IDL Justification" />
                                        <ui:template>
                                            <Input  value="{qreq>idlJustification}"/>
                                        </ui:template>
                                    </ui:Column>
                                    <ui:Column width="10rem" visible = "false">
                                        <Label text="IDL Budget (調整)" />
                                        <ui:template>
                                            <Text text="{qreq>IDlBudgetAdjust}"/>
                                        </ui:template>
                                    </ui:Column>
                                    <ui:Column  width="10rem" visible = "false">
                                        <Label text="DL Budget (調整)" />
                                        <ui:template>
                                            <Text text="{qreq>DlBudgetAdjust}"/>
                                        </ui:template>
                                    </ui:Column>
                                    <ui:Column width="10rem" visible = "false">
                                        <Label text="DL Budget (Proposal)" />
                                        <ui:template>
                                            <Text text="{qreq>DlBudgetProposal}"/>
                                        </ui:template>
                                    </ui:Column>
                                    <ui:Column width="10rem" visible = "false">
                                        <Label text="IDL Budget (Proposal)" />
                                        <ui:template>
                                            <Text text="{qreq>IDlBudgetProposal}"/>
                                        </ui:template>
                                    </ui:Column>
                                    <ui:Column width="8rem" visible = "false">
                                        <Label text="DL Allowance" />
                                        <ui:template>
                                            <Text text="{qreq>dlAllowance}"/>
                                        </ui:template>
                                    </ui:Column>
                                    <ui:Column width="8rem" visible = "false">
                                        <Label text="IDL Allowance" />
                                        <ui:template>
                                            <Text text="{qreq>iDlAllowance}"/>
                                        </ui:template>
                                    </ui:Column>
                                    <ui:Column width="13rem" visible = "false">
                                        <Label text="HC Budget (Proposal IDL+DL)" />
                                        <ui:template>
                                            <Text text="{qreq>xxx}"/>
                                        </ui:template>
                                    </ui:Column>
                                    <ui:Column  width="8rem">
                                        <Label text="Actual DL" />
                                        <ui:template>
                                            <Text text="{qreq>actualDl}"/>
                                        </ui:template>
                                    </ui:Column>
                                    <ui:Column  width="8rem">
                                        <Label text="Actual IDL" />
                                        <ui:template>
                                            <Text text="{qreq>actualIdl}"/>
                                        </ui:template>
                                    </ui:Column>
                                    <ui:Column width="8rem">
                                        <Label text="Actual HC" />
                                        <ui:template>
                                            <Text text="{qreq>actualHc}"/>
                                        </ui:template>
                                    </ui:Column>
                                </ui:Table>
                            </IconTabFilter>
                            <IconTabFilter
				icon="sap-icon://compare"
				iconColor="Positive"  
				text="下達"
				key="breakdown" >
                                <form:SimpleForm  layout="ResponsiveGridLayout" columnsXL="1" columnsL="1" columnsM="1">
                                    <Label text="設定填報類型"  required="true" >
                                        <layoutData>
                                            <l:GridData span="XL1 L1 M1 S12" />
                                        </layoutData>
                                    </Label>
                                    <ComboBox id = "comType"  
                                    selectionChange="typeChangeBreakDown"
                                    items="{
					                        path: 'type>/list',
				                        	sorter: { path: 'text' }
			                        	}">
                                        <core:Item key="{type>Id}" text="{type>Id} {type>Text}" />
                                        <layoutData>
                                            <l:GridData span="XL2 L2 M2 S12" />
                                        </layoutData>
                                    </ComboBox>
                                    <Label text="組織單位"  required="true" >
                                        <layoutData>
                                            <l:GridData span="XL1 L1 M1 S12" />
                                        </layoutData>
                                    </Label>
                                    <Input id="bdorgid"  width="20%"  showValueHelp="true" 	valueHelpRequest=".onValueHelpBdOrgid">
                                        <layoutData>
                                            <l:GridData span="XL8 L8 M8 S12" />
                                        </layoutData>
                                    </Input>
                                    <Label text="期间" >
                                        <layoutData>
                                            <l:GridData span="XL1 L1 M1 S12" />
                                        </layoutData>
                                    </Label>
                                    <Text  id="bdinfoperiod">
                                        <layoutData>
                                            <l:GridData span="XL1 L1 M1 S12" />
                                        </layoutData>
                                    </Text>
                                    <Label text="DL">
                                        <layoutData>
                                            <l:GridData span="XL1 L1 M1 S12" />
                                        </layoutData>
                                    </Label>
                                    <Text text="{bdinfo>/finalDL}">
                                        <layoutData>
                                            <l:GridData span="XL1 L1 M1 S12" />
                                        </layoutData>
                                    </Text>
                                    <Label text="IDL"    >
                                        <layoutData>
                                            <l:GridData span="XL1 L1 M1 S12" />
                                        </layoutData>
                                    </Label>
                                    <Text text="{bdinfo>/finalIDL}">
                                        <layoutData>
                                            <l:GridData span="XL1 L1 M1 S12" />
                                        </layoutData>
                                    </Text>
                                    <Label text="生效日期"    >
                                        <layoutData>
                                            <l:GridData span="XL1 L1 M1 S12" />
                                        </layoutData>
                                    </Label>
                                    <Text text="{bdinfo>/effectiveDte}">
                                        <layoutData>
                                            <l:GridData span="XL1 L1 M1 S12" />
                                        </layoutData>
                                    </Text>
                                </form:SimpleForm>
                                <ui:Table
                	          rows="{bd>/OrgCollection}"
                              visibleRowCount="{= ${bd>/OrgCollection}.length}"
				              selectionMode="Single" 
                              id="bdownCollection"
				              ariaLabelledBy="title">
                                    <ui:extension>
                                        <OverflowToolbar class="sapMTBHeader-CTX">
                                            <ToolbarSpacer/>
                                            <Button icon="sap-icon://validate" press="bdCalculate"  type="Transparent" id="onCalculate" text="檢查"/>
                                            <Button icon="sap-icon://copy" press="onCopyFrom"  type="Transparent" id="onCopyFrom" text="複製上一條"/>
                                            <Button icon="sap-icon://save" press="onSaveBd" type="Transparent" id="onSaveBd" text="保存"/>
                                        </OverflowToolbar>
                                    </ui:extension>
                                    <ui:footer>
                                        <l:HorizontalLayout>
                                            <Text text="合計" width="10em"/>
                                            <Text text=""  width="8em"/>
                                            <Text text=""  width="8em"/>
                                            <Text text=""  width="8em"/>
                                            <Text id ="class1" text="{footer>/class1}"  width="8em"/>
                                            <Text id ="class2" text="{footer>/class2}"   width="8em"/>
                                            <Text id ="class3" text="{footer>/class3}"  width="8em"/>
                                            <Text id ="class4" text="{footer>/class4}"  width="8em"/>
                                            <Text id ="class5" text="{footer>/class5}"  width="8em"/>
                                            <Text id ="class6" text="{footer>/class6}"  width="8em"/>
                                            <Text id="dltoal"  text="{footer>/dltotal}" width="8em"/>
                                            <Text id="idltotal"  text="{footer>/idltotal}" width="8em"/>
                                        </l:HorizontalLayout>
                                    </ui:footer>
                                    <ui:Column  >
                                        <Label text="年份" />
                                        <ui:template>
                                            <Text text="{bd>year}"/>
                                        </ui:template>
                                    </ui:Column>
                                    <ui:Column  >
                                        <Label text="季度" />
                                        <ui:template>
                                            <Text text="{bd>quarter}"/>
                                        </ui:template>
                                    </ui:Column>
                                    <ui:Column >
                                        <Label text="組織單位" />
                                        <ui:template>
                                            <Text text="{bd>orgId}"/>
                                        </ui:template>
                                    </ui:Column>
                                    <ui:Column >
                                        <Label text="組織單位" />
                                        <ui:template>
                                            <Text text="{bd>orgName}"/>
                                        </ui:template>
                                    </ui:Column>
                                    <ui:Column >
                                        <Label text="60" />
                                        <ui:template>
                                            <Input id="iclass1" valueState="{vsdl>/state}" value="{bd>class1}" type="Number" />
                                        </ui:template>
                                    </ui:Column>
                                    <ui:Column >
                                        <Label text="6X" />
                                        <ui:template>
                                            <Input id="iclass2" valueState="{vsdl>/state}" liveChange="decimalCheck" value="{bd>class2}" type="Number"  />
                                        </ui:template>
                                    </ui:Column>
                                    <ui:Column >
                                        <Label text="2X" />
                                        <ui:template>
                                            <Input  id="iclass3" valueState="{vsidl>/state}"  value="{bd>class3}" type="Number"  />
                                        </ui:template>
                                    </ui:Column>
                                    <ui:Column >
                                        <Label text="3X" />
                                        <ui:template>
                                            <Input  id="iclass4"  valueState="{vsidl>/state}"  value="{bd>class4}" type="Number" />
                                        </ui:template>
                                    </ui:Column>
                                    <ui:Column >
                                        <Label text="MGR" />
                                        <ui:template>
                                            <Input id="iclass5" valueState="{vsidl>/state}"  value="{bd>class5}" type="Number"  />
                                        </ui:template>
                                    </ui:Column>
                                    <ui:Column >
                                        <Label text="EXE"/>
                                        <ui:template>
                                            <Input id="iclass6" valueState="{vsidl>/state}"  value="{bd>class6}" type="Number"  />
                                        </ui:template>
                                    </ui:Column>
                                    <ui:Column >
                                        <Label text="DL Total" />
                                        <ui:template>
                                            <Text  text="{bd>dltotal}"  />
                                        </ui:template>
                                    </ui:Column>
                                    <ui:Column >
                                        <Label text="IDL Total"  />
                                        <ui:template>
                                            <Text  text="{bd>idltotal}"  />
                                        </ui:template>
                                    </ui:Column>
                                </ui:Table>
                            </IconTabFilter>
                            <IconTabFilter
				icon="sap-icon://inventory"
				iconColor="Positive"  
				text="查詢"
				key="report" >
                                <form:SimpleForm editable="true" layout="ResponsiveGridLayout" columnsXL="1" columnsL="1" columnsM="1">
                                    <Label text="設定填報類型"  required="true" >
                                        <layoutData>
                                            <l:GridData span="XL1 L1 M1 S12" />
                                        </layoutData>
                                    </Label>
                                    <ComboBox id = "comType1"  
                                    selectionChange="typeChangeReport"
                                    items="{
					                        path: 'type>/list',
				                        	sorter: { path: 'text' }
			                        	}">
                                        <core:Item key="{type>Id}" text="{type>Id} {type>Text}" />
                                        <layoutData>
                                            <l:GridData span="XL1 L1 M1 S12" />
                                        </layoutData>
                                    </ComboBox>
                                    <Label text="年度"  required="true" >
                                        <layoutData>
                                            <l:GridData span="XL1 L1 M1 S12" />
                                        </layoutData>
                                    </Label>
                                    <DatePicker   value="{filter>/year}"
		                                          id="year"
			                                      displayFormat="yyyy"
			                                      class="sapUiSmallMarginBottom"
                                                 
                                                  width="60%">
                                        <layoutData>
                                            <l:GridData span="XL2 L2 M2 S12" />
                                        </layoutData>
                                    </DatePicker>
                                    <Select id="quarterSelect" forceSelection="true" items="{ path:'quarter>/list', sorter: { path: 'quarter>/list/Id' } }"
                                                 width="60%">
                                        <core:Item key="{quarter>Id}" text="{quarter>Text}"/>
                                        <layoutData>
                                            <l:GridData span="XL2 L2 M2 S12" />
                                        </layoutData>
                                    </Select>
                                    <Label text="組織單位">
                                        <layoutData>
                                            <l:GridData span="XL1 L1 M1 S12" />
                                        </layoutData>
                                    </Label>
                                    <Input id="orgid"  value="{filter>/orgid}"   	showValueHelp="true" 	valueHelpRequest=".onValueHelpRptOrg">
                                        <layoutData>
                                            <l:GridData span="XL2 L2 M2 S12" />
                                        </layoutData>
                                    </Input>
                                    <Label text="">
                                        <layoutData>
                                            <l:GridData span="XL1 L1 M1 S12" />
                                        </layoutData>
                                    </Label>
                                    <Button   icon="sap-icon://search" press="onSearch"  type="Emphasized"  id="onSearch" text="查詢">
                                        <layoutData>
                                            <l:GridData span="XL1 L1 M1 S12" />
                                        </layoutData>
                                    </Button>
                                </form:SimpleForm>
                                <ui:Table
                	                rows="{rpt>/OrgCollection}"
				                    selectionMode="Single" 
                                    visibleRowCount="{= ${rpt>/OrgCollection}.length}"
                                    id="reportCollection"
				                    ariaLabelledBy="title">
                                    <ui:extension>
                                        <OverflowToolbar class="sapMTBHeader-CTX">
                                            <ToolbarSpacer/>
                                        </OverflowToolbar>
                                    </ui:extension>
                                    <ui:Column  width="4rem">
                                        <Label text="年份" />
                                        <ui:template>
                                            <Text text="{rpt>year}"/>
                                        </ui:template>
                                    </ui:Column>
                                    <ui:Column width="3rem">
                                        <Label text="季度" />
                                        <ui:template>
                                            <Text text="{rpt>quarter}"/>
                                        </ui:template>
                                    </ui:Column>
                                    <ui:Column  width="7rem">
                                        <Label text="組織單位" />
                                        <ui:template>
                                            <Text text="{rpt>org}"/>
                                        </ui:template>
                                    </ui:Column>
                                    <ui:Column  width="7rem">
                                        <Label text="組織單位" />
                                        <ui:template>
                                            <Text text="{rpt>orgName}"/>
                                        </ui:template>
                                    </ui:Column>
                                    <ui:Column width="12rem" >
                                        <Label text="DL Budget (上一季budget)" />
                                        <ui:template>
                                            <Text text="{rpt>lstDlAdjust}"/>
                                        </ui:template>
                                    </ui:Column>
                                    <ui:Column width="12rem" >
                                        <Label text="IDL Budget (上一季budget)" />
                                        <ui:template>
                                            <Text text="{rpt>lstIdlAdjust}"/>
                                        </ui:template>
                                    </ui:Column>
                                    <ui:Column width="12rem">
                                        <Label text="DL Budget (H/C request)" />
                                        <ui:template>
                                            <Text  text="{rpt>dlReqBudget}"/>
                                        </ui:template>
                                    </ui:Column>
                                    <ui:Column width="12rem">
                                        <Label text="IDL Budget (H/C request)" />
                                        <ui:template>
                                            <Text  text="{rpt>idlReqBudget}"/>
                                        </ui:template>
                                    </ui:Column>
                                    <ui:Column  width="8rem">
                                        <Label text="DL Justification" />
                                        <ui:template>
                                            <Text  text="{rpt>dlJustification}"/>
                                        </ui:template>
                                    </ui:Column>
                                    <ui:Column width="8rem">
                                        <Label text="IDL Justification" />
                                        <ui:template>
                                            <Text  text="{rpt>idlJustification}"/>
                                        </ui:template>
                                    </ui:Column>
                                    <ui:Column width="10rem">
                                        <Label text="DL Budget (調整)" />
                                        <ui:template>
                                            <Text text="{rpt>dlAdjBudget}"/>
                                        </ui:template>
                                    </ui:Column>
                                    <ui:Column  width="10rem">
                                        <Label text="IDL Budget (調整)" />
                                        <ui:template>
                                            <Text text="{rpt>idlAdjBudget}"/>
                                        </ui:template>
                                    </ui:Column>
                                    <ui:Column width="10rem">
                                        <Label text="DL Budget (Final))" />
                                        <ui:template>
                                            <Text text="{rpt>dlBudgetFinal}"/>
                                        </ui:template>
                                    </ui:Column>
                                    <ui:Column width="10rem">
                                        <Label text="IDL Budget (Final)" />
                                        <ui:template>
                                            <Text text="{rpt>idlBudgetFinal}"/>
                                        </ui:template>
                                    </ui:Column>
                                    <ui:Column width="8rem">
                                        <Label text="DL Allowance" />
                                        <ui:template>
                                            <Text text="{rpt>dlAllowance}"/>
                                        </ui:template>
                                    </ui:Column>
                                    <ui:Column width="8rem">
                                        <Label text="IDL Allowance" />
                                        <ui:template>
                                            <Text text="{rpt>idlAllowance}"/>
                                        </ui:template>
                                    </ui:Column>
                                    <ui:Column width="13rem">
                                        <Label text="HC Budget (Final IDL+DL)" />
                                        <ui:template>
                                            <Text text="{rpt>finalBudget}"/>
                                        </ui:template>
                                    </ui:Column>
                                </ui:Table>
                            </IconTabFilter>
                        </items>
                    </IconTabBar>
                </content>
            </Page>
        </pages>
    </App>
</mvc:View>