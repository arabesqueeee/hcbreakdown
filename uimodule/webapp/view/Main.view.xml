<mvc:View controllerName="com.tsmc.hcbreakdown.controller.Main"
    xmlns:form="sap.ui.layout.form"
    xmlns:core="sap.ui.core"
    xmlns:u="sap.ui.unified"
    xmlns:mvc="sap.ui.core.mvc"
    xmlns="sap.m"
    xmlns:l="sap.ui.layout"
    xmlns:ui="sap.ui.table"	>
    <App id="idAppControl" >
        <pages>
            <Page  id="wizardContentPage" showHeader="false">
                <content>
                    <IconTabBar
		id="idIconTabBar" select="onFilterSelect" 	class="sapUiResponsiveContentPadding">
                        <items>
                            <IconTabFilter
				icon="sap-icon://begin"
				iconColor="Positive"  
				text="年度提報"
				key="yrequest" >
                                <form:SimpleForm  layout="ResponsiveGridLayout" columnsXL="1" columnsL="1" columnsM="1">
                                    <Label text="Year"  required="true" >
                                        <layoutData>
                                            <l:GridData span="XL1 L1 M1 S12" />
                                        </layoutData>
                                    </Label>
                                    <ComboBox id = "comYearPrdReq"  
                                    items="{
					                        path: 'yper>/list',
				                        	sorter: { path: 'text' }
			                        	}">
                                        <core:Item key="{yper>Id}" text="{yper>Text}" />
                                        <layoutData>
                                            <l:GridData span="XL2 L2 M2 S12" />
                                        </layoutData>
                                    </ComboBox>
                                    <Label text="Org"  required="true" >
                                        <layoutData>
                                            <l:GridData span="XL1 L1 M1 S12" />
                                        </layoutData>
                                    </Label>
                                    <Input id="yreqorgid"  width="20%" value="{filter>/orgid}" submit="orgHelpYearDialogCfm" 	showValueHelp="true" 	valueHelpRequest=".onValueHelpYROrgid">
                                        <layoutData>
                                            <l:GridData span="XL8 L8 M8 S12" />
                                        </layoutData>
                                    </Input>
                                </form:SimpleForm>
                                <ui:Table
                	          rows="{yreq>/OrgCollection}"
                              visibleRowCount="{= ${yreq>/OrgCollection}.length}"
				              selectionMode="Single" 
                              editable="true"
                              id="yrequestCollection"
				                    ariaLabelledBy="title">
                                    <ui:extension>
                                        <OverflowToolbar>
                                            <ToolbarSpacer/>
                                          <!--<Button icon="sap-icon://validate" press="onYearCalculate"  type="Transparent" id="onYearCalculate" text="檢查"/>
                                           -->   
                                           <Button icon="sap-icon://notes" press="onSaveYearReq" type="Transparent" id="onSaveYearReqDraft" text="Save as draft"/>
                                            <Button icon="sap-icon://save" press="onSaveYearReq" type="Transparent" id="onSubmitYearReq" text="Submit"/>
                                        </OverflowToolbar>
                                    </ui:extension>
                                    <ui:Column visible="false" >
                                        <Label text="id" />
                                        <ui:template>
                                            <Text text="{yreq>empId}"/>
                                        </ui:template>
                                    </ui:Column>
                                    <ui:Column  width="4rem">
                                        <Label text="Year" />
                                        <ui:template>
                                            <Text text="{yreq>year}"/>
                                        </ui:template>
                                    </ui:Column>
                                    <ui:Column width="3rem">
                                        <Label text="Quarter" />
                                        <ui:template>
                                            <Text text="{yreq>quarter}"/>
                                        </ui:template>
                                    </ui:Column>
                                    <ui:Column  width="7rem">
                                        <Label text="Org. Code" />
                                        <ui:template>
                                            <Text text="{yreq>org}"/>
                                        </ui:template>
                                    </ui:Column>
                                    <ui:Column  width="7rem">
                                        <Label text="Org. Name" />
                                        <ui:template>
                                            <Text text="{yreq>orgName}"/>
                                        </ui:template>
                                    </ui:Column>
                                    <ui:Column width="12rem" 
                                    headerSpan="2,1"> 
                                    	<ui:multiLabels>
                                        <Label text="H/C Budget(Previous Quarter)(a)" textAlign="Center" /> 
                                        <Label text="DL" textAlign="Center" /> 
                                    	</ui:multiLabels>

                                        <ui:template>
                                        <ObjectStatus text="{yreq>lstDlAdjust}" state="Information"/> 
                                        </ui:template>
                                    </ui:Column>
                                    <ui:Column width="12rem"  >
                                        <ui:multiLabels>
                                        <Label text="H/C Budget(Previous Quarter)(a)"/> 
                                        <Label text="IDL" textAlign="Center" /> 
                                    	</ui:multiLabels>
                                        <ui:template>
                                         <ObjectStatus text="{yreq>lstIdlAdjust}" state="Error"/> 
                                        </ui:template>
                                    </ui:Column>
                                    <ui:Column width="12rem" headerSpan="2,1">
                                    	<ui:multiLabels>
                                        <Label text="H/C Request(b)" textAlign="Center" /> 
                                        <Label text="DL" textAlign="Center" /> 
                                    	</ui:multiLabels> 
                                        <ui:template>
                                            <Input  value="{yreq>dlReqBudget}" 	 editable="{= ${yreq>status} !== 'Submit'}" type="Number"  	placeholder="輸入提報的數量"/>
                                        </ui:template>
                                    </ui:Column>
                                    <ui:Column width="12rem">
                                        <ui:multiLabels>
                                        <Label text="H/C Request(b)" textAlign="Center" /> 
                                        <Label text="DL" textAlign="Center" /> 
                                    	</ui:multiLabels> 
                                        <ui:template>
                                            <Input  value="{yreq>idlReqBudget}"  editable="{= ${yreq>status} !== 'Submit'}"  type="Number"  	placeholder="輸入提報的數量"/>
                                        </ui:template>
                                    </ui:Column>
                                    <ui:Column  width="8rem">
                                        	<ui:multiLabels>
                                        <Label text="Justification" textAlign="Center"  width="100%"/> 
                                        <Label text="DL" textAlign="Center" /> 
                                    	</ui:multiLabels> 
                                        <ui:template>
                                            <Input  value="{yreq>dlJustification}" editable="{= ${yreq>status} !== 'Submit'}"/>
                                        </ui:template>
                                    </ui:Column>
                                    <ui:Column width="8rem">
                                        <ui:multiLabels>
                                        <Label text="Justification" textAlign="Center" /> 
                                        <Label text="IDL" textAlign="Center" /> 
                                        </ui:multiLabels>
                                        <ui:template>
                                            <Input  value="{yreq>idlJustification}" editable="{= ${yreq>status} !== 'Submit'}"/>
                                        </ui:template>
                                    </ui:Column>
                                    
                                    <ui:Column width="10rem"  >
                                        <ui:multiLabels>
                                        <Label text="H/C Budget Proposal(a)+(b)" textAlign="Center" width="100%"/> 
                                        <Label text="DL" textAlign="Center" /> 
                                        </ui:multiLabels>

                                        <ui:template>
                                         <ObjectStatus text="{yreq>dlBudgetProposal}" state="Information"/> 
                                        </ui:template>
                                    </ui:Column>
                                    <ui:Column width="10rem"  > 
                                    <ui:multiLabels>
                                        <Label text="H/C Budget Proposal(a)+(b)" textAlign="Center" /> 
                                        <Label text="IDL" textAlign="Center" /> 
                                        </ui:multiLabels>
                                        <ui:template>
                                         <ObjectStatus text="{yreq>idlBudgetProposal}" state="Error"/> 
                                        </ui:template>
                                    </ui:Column>
                                     
                                    <ui:Column width="13rem"  >
                                        <ui:multiLabels>
                                        <Label text="H/C Budget Proposal(a)+(b)" textAlign="Center" /> 
                                        <Label text="Total" textAlign="Center" /> 
                                        </ui:multiLabels>
                                        <ui:template>
                                            <Text text="{yreq>prosalBudget}"/>
                                        </ui:template>
                                    </ui:Column>
                                    <ui:Column  width="8rem">
                                      <ui:multiLabels>
                                        <Label text="Actual H/C(as of today)" textAlign="Center" /> 
                                        <Label text="DL" textAlign="Center" /> 
                                        </ui:multiLabels> 
                                        <ui:template>
                                          <ObjectStatus text="{yreq>actualDl}" state="Information"/> 
                                      
                                        </ui:template>
                                    </ui:Column>
                                    <ui:Column  width="8rem">
                                        <ui:multiLabels>
                                        <Label text="Actual H/C(as of today)" textAlign="Center" /> 
                                        <Label text="IDL" textAlign="Center" /> 
                                        </ui:multiLabels> 
                                        <ui:template> 
                                          <ObjectStatus text="{yreq>actualIdl}" state="Error"/> 
                                        </ui:template>
                                    </ui:Column>
                                    <ui:Column width="8rem">
                                          <ui:multiLabels>
                                        <Label text="Actual H/C(as of today)" textAlign="Center" /> 
                                        <Label text="Total" textAlign="Center" /> 
                                        </ui:multiLabels> 
                                        <ui:template>
                                            <Text text="{yreq>actualHc}"/>
                                        </ui:template>
                                    </ui:Column>
                                </ui:Table>
                            </IconTabFilter>
                            <IconTabFilter
				icon="sap-icon://begin"
				iconColor="Positive"  
				text="季度提報"
				key="qrequest" >
                                <form:SimpleForm  layout="ResponsiveGridLayout" columnsXL="1" columnsL="1" columnsM="1">
                                    <Label text="Quarter"  required="true" >
                                        <layoutData>
                                            <l:GridData span="XL1 L1 M1 S12" />
                                        </layoutData>
                                    </Label>
                                    <ComboBox id = "comPeriodReq"
                                       items="{
					                        path: 'aper>/list',
				                        	sorter: { path: 'text' }
			                        	}">
                                        <core:Item key="{aper>Id}" text="{aper>Text}" />
                                        <layoutData>
                                            <l:GridData span="XL2 L2 M2 S12" />
                                        </layoutData>
                                    </ComboBox>
                                    <Label text="Org"  required="true" >
                                        <layoutData>
                                            <l:GridData span="XL1 L1 M1 S12" />
                                        </layoutData>
                                    </Label>
                                    <Input id="qreqorgid"  width="20%" value="{filter>/orgid}"  description="" 	showValueHelp="true" 	valueHelpRequest=".onValueHelpQROrgid">
                                        <layoutData>
                                            <l:GridData span="XL8 L8 M8 S12" />
                                        </layoutData>
                                    </Input>
                                </form:SimpleForm>
                                <ui:Table
                	          rows="{yref>/OrgCollection}"
				                    selectionMode="Single" 
                            id="requestCollectionRefer" 
                            visibleRowCount="{= ${yref>/OrgCollection}.length}"
				              
				                    ariaLabelledBy="title">
                                    <ui:extension>
                                        <OverflowToolbar>
                                            <Title text="年度提報參考" />
                                            <ToolbarSpacer/>
                                        </OverflowToolbar>
                                    </ui:extension>
                                   
                                    <ui:Column  width="4rem">
                                        <Label text="Year" />
                                        <ui:template>
                                            <Text text="{yref>year}"/>
                                        </ui:template>
                                    </ui:Column>
                                    <ui:Column width="3rem">
                                        <Label text="Quarter" />
                                        <ui:template>
                                            <Text text="{yref>quarter}"/>
                                        </ui:template>
                                    </ui:Column>
                                    <ui:Column  width="7rem">
                                        <Label text="Org. Code" />
                                        <ui:template>
                                            <Text text="{yref>org}"/>
                                        </ui:template>
                                    </ui:Column>
                                    <ui:Column  width="7rem">
                                        <Label text="Org. Name" />
                                        <ui:template>
                                            <Text text="{yref>orgName}"/>
                                        </ui:template>
                                    </ui:Column>
                                    <ui:Column width="12rem">
                                        	<ui:multiLabels>
                                        <Label text="H/C Budget(Previous Quarter)(a)" textAlign="Center" /> 
                                        <Label text="DL" textAlign="Center" /> 
                                    	</ui:multiLabels>
                                        <ui:template>
                                            <Text  text="{yref>dlReqBudget}"/>
                                        </ui:template>
                                    </ui:Column>
                                    <ui:Column width="12rem">
                                       	<ui:multiLabels>
                                        <Label text="H/C Budget(Previous Quarter)(a)" textAlign="Center" /> 
                                        <Label text="IDL" textAlign="Center" /> 
                                    	</ui:multiLabels>
                                        <ui:template>
                                            <Text  text="{yref>idlReqBudget}"/>
                                        </ui:template>
                                    </ui:Column>
                                    <ui:Column  width="8rem">
                                    <ui:multiLabels>
                                         <Label text="H/C Request(b)" textAlign="Center" /> 
                                        <Label text="DL" textAlign="Center" /> 
                                    	</ui:multiLabels>
                                        <ui:template>
                                            <Text  text="{yref>dlJustification}"/>
                                        </ui:template>
                                    </ui:Column>
                                    <ui:Column width="8rem">
                                         <ui:multiLabels>
                                         <Label text="H/C Request(b)" textAlign="Center" /> 
                                        <Label text="IDL" textAlign="Center" /> 
                                    	</ui:multiLabels>
                                        <ui:template>
                                            <Text  text="{yref>idlJustification}"/>
                                        </ui:template>
                                    </ui:Column>
                                </ui:Table>
                                <ui:Table
                	          rows="{qreq>/OrgCollection}"
                             visibleRowCount="{= ${qreq>/OrgCollection}.length}" 
				              selectionMode="Single" 
                              id="qrequestCollection"
				              ariaLabelledBy="title">
                                    <ui:extension>
                                        <OverflowToolbar>
                                            <ToolbarSpacer/>
                                            <Button icon="sap-icon://notes" press="onSaveQReq" type="Transparent" id="onSaveQReqDraft" text="暫存"/>
                                            <Button icon="sap-icon://save" press="onSaveQReq" type="Transparent" id="onSubmitQReq" text="提交"/>
                                        </OverflowToolbar>
                                    </ui:extension>
                                   
                                    <ui:Column  width="4rem">
                                        <Label text="Year" />
                                        <ui:template>
                                            <Text text="{qreq>year}"/>
                                        </ui:template>
                                    </ui:Column>
                                    <ui:Column width="3rem">
                                        <Label text="Quarter" />
                                        <ui:template>
                                            <Text text="{qreq>quarter}"/>
                                        </ui:template>
                                    </ui:Column>
                                    <ui:Column  width="7rem">
                                        <Label text="Org. Code" />
                                        <ui:template>
                                            <Text text="{qreq>org}"/>
                                        </ui:template>
                                    </ui:Column>
                                    <ui:Column  width="7rem">
                                        <Label text="Org. Name" />
                                        <ui:template>
                                            <Text text="{qreq>orgName}"/>
                                        </ui:template>
                                    </ui:Column>
                                    <ui:Column width="12rem">
                                       	<ui:multiLabels>
                                        <Label text="H/C Budget(Previous Quarter)(a)" textAlign="Center" /> 
                                        <Label text="DL" textAlign="Center" /> 
                                    	</ui:multiLabels>
                                        <ui:template>
                                         <ObjectStatus text="{yreq>lstDlAdjust}" state="Information"/>  
                                        </ui:template>
                                    </ui:Column>
                                    <ui:Column width="12rem">
                                       	<ui:multiLabels>
                                        <Label text="H/C Budget(Previous Quarter)(a)" textAlign="Center" /> 
                                        <Label text="IDL" textAlign="Center" /> 
                                    	</ui:multiLabels>
                                        <ui:template> 
                                         <ObjectStatus text="{yreq>lstIdlAdjust}" state="Error"/>   
                                        </ui:template>
                                    </ui:Column>
                                    <ui:Column width="12rem">
                                        	<ui:multiLabels>
                                        <Label text="H/C Request(b)" textAlign="Center" /> 
                                        <Label text="DL" textAlign="Center" /> 
                                    	</ui:multiLabels>
                                        <ui:template>
                                            <Input  value="{qreq>dlReqBudget}" 	type="Number"  editable="{= ${qreq>status} !== 'Submit'}"	placeholder="輸入提報的數量"/>
                                        </ui:template>
                                    </ui:Column>
                                    <ui:Column width="12rem">
                                       	<ui:multiLabels>
                                        <Label text="H/C Request(b)" textAlign="Center" /> 
                                        <Label text="IDL" textAlign="Center" /> 
                                    	</ui:multiLabels>
                                        <ui:template>
                                            <Input  value="{qreq>idlReqBudget}"   type="Number"  editable="{= ${qreq>status} !== 'Submit'}"	placeholder="輸入提報的數量"/>
                                        </ui:template>
                                    </ui:Column>
                                    <ui:Column  width="8rem">
                                     	<ui:multiLabels>
                                        <Label text="Justification" textAlign="Center" /> 
                                        <Label text="DL" textAlign="Center" /> 
                                    	</ui:multiLabels>
                                        <ui:template>
                                            <Input  value="{qreq>dlJustification}" editable="{= ${qreq>status} !== 'Submit'}"/>
                                        </ui:template>
                                    </ui:Column>
                                    <ui:Column width="8rem">
                                        <ui:multiLabels>
                                        <Label text="Justification" textAlign="Center" /> 
                                        <Label text="IDL" textAlign="Center" /> 
                                    	</ui:multiLabels>
                                        <ui:template>
                                            <Input  value="{qreq>idlJustification}" editable="{= ${qreq>status} !== 'Submit'}"/>
                                        </ui:template>
                                    </ui:Column>
                                   
                                   <ui:Column width="10rem"  >
                                        <ui:multiLabels>
                                        <Label text="H/C Budget Proposal(a)+(b)" textAlign="Center" /> 
                                        <Label text="DL" textAlign="Center" /> 
                                        </ui:multiLabels> 
                                        <ui:template>
                                          <ObjectStatus text="{yreq>dlBudgetProposal}" state="Information"/>   
                                     
                                        </ui:template>
                                    </ui:Column>
                                    <ui:Column width="10rem"  > 
                                    <ui:multiLabels>
                                        <Label text="H/C Budget Proposal(a)+(b)" textAlign="Center" /> 
                                        <Label text="IDL" textAlign="Center" /> 
                                        </ui:multiLabels>
                                        <ui:template> 
                                          <ObjectStatus text="{yreq>idlBudgetProposal}" state="Error"/>    
                                        </ui:template>
                                    </ui:Column>
                                     
                                    <ui:Column width="13rem"  >
                                        <ui:multiLabels>
                                        <Label text="H/C Budget Proposal(a)+(b)" textAlign="Center" /> 
                                        <Label text="Total" textAlign="Center" /> 
                                        </ui:multiLabels>
                                        <ui:template>
                                            <Text text="{qreq>prosalBudget}"/>
                                        </ui:template>
                                    </ui:Column>
                                    

                                    <ui:Column  width="8rem">
                                      <ui:multiLabels>
                                        <Label text="Actual H/C(as of today)" textAlign="Center" /> 
                                        <Label text="DL" textAlign="Center" /> 
                                        </ui:multiLabels> 
                                        <ui:template>
                                           <ObjectStatus text="{yreq>actualDl}" state="Information"/>    
                                        </ui:template>
                                    </ui:Column>
                                    <ui:Column  width="8rem">
                                          <ui:multiLabels>
                                        <Label text="Actual H/C(as of today)" textAlign="Center" /> 
                                        <Label text="IDL" textAlign="Center" /> 
                                        </ui:multiLabels> 
                                        <ui:template> 
                                           <ObjectStatus text="{yreq>actualIdl}" state="Error"/>  
                                        </ui:template>
                                    </ui:Column>
                                    <ui:Column width="8rem">
                                           <ui:multiLabels>
                                        <Label text="Actual H/C(as of today)" textAlign="Center" /> 
                                        <Label text="Total" textAlign="Center" /> 
                                        </ui:multiLabels> 
                                        <ui:template>
                                            <Text text="{qreq>actualHc}"/>
                                        </ui:template>
                                    </ui:Column>
                                </ui:Table>
                            </IconTabFilter>
                            <IconTabFilter icon="sap-icon://compare" iconColor="Positive"   text="下達" key="breakdown" >
                                <form:SimpleForm  layout="ResponsiveGridLayout" columnsXL="1" columnsL="1" columnsM="1">
                                    <Label text="設定填報類型"  required="true" >
                                        <layoutData>
                                            <l:GridData span="XL1 L1 M1 S12" />
                                        </layoutData>
                                    </Label>
                                    <ComboBox id = "comType"  
                                    selectionChange="typeChangeBreakDown"
                                    items="{
					                        path: 'type>/list',
				                        	sorter: { path: 'text' }
			                        	}">
                                        <core:Item key="{type>Id}" text="{type>Id} {type>Text}" />
                                        <layoutData>
                                            <l:GridData span="XL1 L1 M1 S12" />
                                        </layoutData>
                                    </ComboBox>
                                    <Label text="期间"  required="true" >
                                        <layoutData>
                                            <l:GridData span="XL1 L1 M1 S12" />
                                        </layoutData>
                                    </Label>
                                    <ComboBox id = "bdinfoperiod"    
                                    selectionChange="bdPeriodChange"
                                    items="{
					                        path: 'bdperiod>/list' 
			                        	}">
                                        <core:Item key="{bdperiod>period}" text="{bdperiod>period}" />
                                        <layoutData>
                                            <l:GridData span="XL2 L2 M2 S12" />
                                        </layoutData>
                                    </ComboBox>
                                    <Label text="組織單位"  required="true" >
                                        <layoutData>
                                            <l:GridData span="XL1 L1 M1 S12" />
                                        </layoutData>
                                    </Label>
                                    <Input id="bdorgid" showValueHelp="true" 	valueHelpRequest=".onValueHelpBdOrgid">
                                        <layoutData>
                                            <l:GridData span="XL2 L2 M2 S12" />
                                        </layoutData>
                                    </Input>
                                    <Label text="生效日期"    >
                                        <layoutData>
                                            <l:GridData span="XL1 L1 M1 S12" />
                                        </layoutData>
                                    </Label>
                                    <!--="{bdinfo>/effectiveDte}"-->
                                    <ComboBox id = "bdeffectivedte"   
                                    selectionChange="effectivedteChange"
                                    width="60%"
                                    items="{
					                        path: 'effe>/list' 
			                        	}">
                                        <core:Item key="{effe>dte}" text="{effe>dte}" />
                                        <layoutData>
                                            <l:GridData span="XL3 L3 M3 S12" />
                                        </layoutData>
                                    </ComboBox>
                                    <Label text="DL">
                                        <layoutData>
                                            <l:GridData span="XL1 L1 M1 S12" />
                                        </layoutData>
                                    </Label>
                                    <Text text="{bdinfo>/finalDLBreakdown}">
                                        <layoutData>
                                            <l:GridData span="XL1 L1 M1 S12" />
                                        </layoutData>
                                    </Text>
                                    <Label text="IDL"    >
                                        <layoutData>
                                            <l:GridData span="XL1 L1 M1 S12" />
                                        </layoutData>
                                    </Label>
                                    <Text text="{bdinfo>/finalIDLBreakdown}">
                                        <layoutData>
                                            <l:GridData span="XL1 L1 M1 S12" />
                                        </layoutData>
                                    </Text>
                                </form:SimpleForm>
                                <ui:Table
                	          rows="{bd>/OrgCollection}"
                              visibleRowCount="{= ${bd>/OrgCollection}.length}"
				              selectionMode="None" 
                              id="bdownCollection"
				              ariaLabelledBy="title">
                                    <ui:extension>
                                        <OverflowToolbar class="sapMTBHeader-CTX">
                                            <ToolbarSpacer/>
                                            <Button icon="sap-icon://validate" press="onExceedCheck"  type="Transparent" id="onExceedCheck" text="檢查"/>
                                            <Button icon="sap-icon://copy" press="onCopyFrom"  type="Transparent" id="onCopyFrom" text="複製上一條"/>
                                            <Button icon="sap-icon://save" press="onSaveBd" type="Transparent" id="onSaveBd" text="保存"/>
                                        </OverflowToolbar>
                                    </ui:extension>
                                    <ui:footer>
                                        <form:SimpleForm id="SimpleFormToolbar"
                                            	layout="ResponsiveGridLayout" 	ariaLabelledBy="Title1" >
                                            <Text text="合計"  >
                                                <layoutData>
                                                    <l:GridData span="XL4 L4 M4 S4" />
                                                </layoutData>
                                            </Text>
                                            <Text id ="class1" text="{footer>/class1}"  >
                                                <layoutData>
                                                    <l:GridData span="XL1 L1 M1 S1" />
                                                </layoutData>
                                            </Text>
                                            <Text id ="class2" text="{footer>/class2}"    >
                                                <layoutData>
                                                    <l:GridData span="XL1 L1 M1 S1" />
                                                </layoutData>
                                            </Text>
                                            <Text id ="class3" text="{footer>/class3}" >
                                                <layoutData>
                                                    <l:GridData span="XL1 L1 M1 S1" />
                                                </layoutData>
                                            </Text>
                                            <Text id ="class4" text="{footer>/class4}"  >
                                                <layoutData>
                                                    <l:GridData span="XL1 L1 M1 S1" />
                                                </layoutData>
                                            </Text>
                                            <Text id ="class5" text="{footer>/class5}"  >
                                                <layoutData>
                                                    <l:GridData span="XL1 L1 M1 S1" />
                                                </layoutData>
                                            </Text>
                                            <Text id ="class6" text="{footer>/class6}"   >
                                                <layoutData>
                                                    <l:GridData span="XL1 L1 M1 S1" />
                                                </layoutData>
                                            </Text>
                                            <Text id="dltoal"  text="{footer>/dltotal}"  >
                                                <layoutData>
                                                    <l:GridData span="XL1 L1 M1 S1" />
                                                </layoutData>
                                            </Text>
                                            <Text id="idltotal"  text="{footer>/idltotal}"  >
                                                <layoutData>
                                                    <l:GridData span="XL1 L1 M1 S1" />
                                                </layoutData>
                                            </Text>
                                        </form:SimpleForm>
                                    </ui:footer>
                                    <ui:Column width="4%" >
                                        <Label text="年份" />
                                        <ui:template>
                                            <Text text="{bd>year}"/>
                                        </ui:template>
                                    </ui:Column>
                                    <ui:Column  width="4%">
                                        <Label text="季度" />
                                        <ui:template>
                                            <Text text="{bd>quarter}"/>
                                        </ui:template>
                                    </ui:Column>
                                    <ui:Column width="12%">
                                        <Label text="組織單位" />
                                        <ui:template>
                                            <Text text="{bd>orgId}"/>
                                        </ui:template>
                                    </ui:Column>
                                    <ui:Column width="10%">
                                        <Label text="組織單位" />
                                        <ui:template>
                                            <Text text="{bd>orgName}"/>
                                        </ui:template>
                                    </ui:Column>
                                    <ui:Column width="8%">
                                        <Label text="60" />
                                        <ui:template>
                                            <Input id="iclass1" valueState="{vsdl>/state}" value="{bd>class1}" type="Number" />
                                        </ui:template>
                                    </ui:Column>
                                    <ui:Column width="8%">
                                        <Label text="6X" />
                                        <ui:template>
                                            <Input id="iclass2" valueState="{vsdl>/state}"  value="{bd>class2}" type="Number"  />
                                        </ui:template>
                                    </ui:Column>
                                    <ui:Column width="7%">
                                        <Label text="2X" />
                                        <ui:template>
                                            <Input  id="iclass3" valueState="{vsidl>/state}"  value="{bd>class3}" type="Number"  />
                                        </ui:template>
                                    </ui:Column>
                                    <ui:Column width="8%">
                                        <Label text="3X" />
                                        <ui:template>
                                            <Input  id="iclass4"  valueState="{vsidl>/state}"  value="{bd>class4}" type="Number" />
                                        </ui:template>
                                    </ui:Column>
                                    <ui:Column width="8%">
                                        <Label text="MGR" />
                                        <ui:template>
                                            <Input id="iclass5" valueState="{vsidl>/state}"  value="{bd>class5}" type="Number"  />
                                        </ui:template>
                                    </ui:Column>
                                    <ui:Column width="8%">
                                        <Label text="EXE"/>
                                        <ui:template>
                                            <Input id="iclass6" valueState="{vsidl>/state}"  value="{bd>class6}" type="Number"  />
                                        </ui:template>
                                    </ui:Column>
                                    <ui:Column width="8%">
                                        <Label text="DL Total" />
                                        <ui:template>
                                            <Text  text="{bd>dltotal}"  />
                                        </ui:template>
                                    </ui:Column>
                                    <ui:Column width="10%">
                                        <Label text="IDL Total"  />
                                        <ui:template>
                                            <Text  text="{bd>idltotal}"  />
                                        </ui:template>
                                    </ui:Column>
                                </ui:Table>
                            </IconTabFilter>
                            <IconTabFilter
				icon="sap-icon://inventory"
				iconColor="Positive"  
				text="查詢"
				key="report" >
                                <form:SimpleForm editable="true" layout="ResponsiveGridLayout" columnsXL="1" columnsL="1" columnsM="1">
                                    <Label text="設定填報類型"  required="true" >
                                        <layoutData>
                                            <l:GridData span="XL1 L1 M1 S12" />
                                        </layoutData>
                                    </Label>
                                    <ComboBox id = "comType1"  
                                    selectionChange="typeChangeReport"
                                    items="{
					                        path: 'type>/list',
				                        	sorter: { path: 'text' }
			                        	}">
                                        <core:Item key="{type>Id}" text="{type>Id} {type>Text}" />
                                        <layoutData>
                                            <l:GridData span="XL1 L1 M1 S12" />
                                        </layoutData>
                                    </ComboBox>
                                    <Label text="年度"  required="true" >
                                        <layoutData>
                                            <l:GridData span="XL1 L1 M1 S12" />
                                        </layoutData>
                                    </Label>
                                    <DatePicker   value="{filter>/year}"
		                                          id="year"
			                                      displayFormat="yyyy"
			                                      class="sapUiSmallMarginBottom"
                                                 
                                                  width="60%">
                                        <layoutData>
                                            <l:GridData span="XL2 L2 M2 S12" />
                                        </layoutData>
                                    </DatePicker>
                                    <Select id="quarterSelect" forceSelection="true" items="{ path:'quarter>/list', sorter: { path: 'quarter>/list/Id' } }"
                                                 width="60%">
                                        <core:Item key="{quarter>Id}" text="{quarter>Text}"/>
                                        <layoutData>
                                            <l:GridData span="XL2 L2 M2 S12" />
                                        </layoutData>
                                    </Select>
                                    <Label text="組織單位">
                                        <layoutData>
                                            <l:GridData span="XL1 L1 M1 S12" />
                                        </layoutData>
                                    </Label>
                                    <Input id="orgid"  value="{filter>/orgid}"   	showValueHelp="true" 	valueHelpRequest=".onValueHelpRptOrg">
                                        <layoutData>
                                            <l:GridData span="XL2 L2 M2 S12" />
                                        </layoutData>
                                    </Input>
                                    <Label text="">
                                        <layoutData>
                                            <l:GridData span="XL1 L1 M1 S12" />
                                        </layoutData>
                                    </Label>
                                    <Button   icon="sap-icon://search" press="onSearch"  type="Emphasized"  id="onSearch" text="查詢">
                                        <layoutData>
                                            <l:GridData span="XL1 L1 M1 S12" />
                                        </layoutData>
                                    </Button>
                                </form:SimpleForm>
                                <ui:Table
                	                rows="{rpt>/OrgCollection}"
				                    selectionMode="Single" 
                                    visibleRowCount="{= ${rpt>/OrgCollection}.length}"
                                    id="reportCollection"
				                    ariaLabelledBy="title">
                                    <ui:extension>
                                        <OverflowToolbar class="sapMTBHeader-CTX">
                                            <ToolbarSpacer/>
                                        </OverflowToolbar>
                                    </ui:extension>
                                    <ui:Column  width="4rem">
                                        <Label text="年份" />
                                        <ui:template>
                                            <Text text="{rpt>year}"/>
                                        </ui:template>
                                    </ui:Column>
                                    <ui:Column width="3rem">
                                        <Label text="季度" />
                                        <ui:template>
                                            <Text text="{rpt>quarter}"/>
                                        </ui:template>
                                    </ui:Column>
                                    <ui:Column  width="7rem">
                                        <Label text="組織單位" />
                                        <ui:template>
                                            <Text text="{rpt>org}"/>
                                        </ui:template>
                                    </ui:Column>
                                    <ui:Column  width="7rem">
                                        <Label text="組織單位" />
                                        <ui:template>
                                            <Text text="{rpt>orgName}"/>
                                        </ui:template>
                                    </ui:Column>
                                    <ui:Column  width="7rem">
                                        <Label text="狀態" />
                                        <ui:template>
                                            <Text text="{rpt>status}"/>
                                        </ui:template>
                                    </ui:Column>
                                    <ui:Column  width="7rem">
                                        <Label text="預設填報人" />
                                        <ui:template>
                                            <Text text="{rpt>userName}"/>
                                        </ui:template>
                                    </ui:Column>
                                    <ui:Column  width="7rem">
                                        <Label text="填報日期" />
                                        <ui:template>
                                            <Text text="{=${rpt>lstUpdDte}.substr(0,10)}"/>
                                        </ui:template>
                                    </ui:Column>
                                    <ui:Column width="12rem" >
                                        <Label text="DL Budget (上一季budget)" />
                                        <ui:template>
                                            <Text text="{rpt>lstDlAdjust}"/>
                                        </ui:template>
                                    </ui:Column>
                                    <ui:Column width="12rem" >
                                        <Label text="IDL Budget (上一季budget)" />
                                        <ui:template>
                                            <Text text="{rpt>lstIdlAdjust}"/>
                                        </ui:template>
                                    </ui:Column>
                                    <ui:Column width="12rem">
                                        <Label text="DL Budget (H/C request)" />
                                        <ui:template>
                                            <Text  text="{rpt>dlReqBudget}"/>
                                        </ui:template>
                                    </ui:Column>
                                    <ui:Column width="12rem">
                                        <Label text="IDL Budget (H/C request)" />
                                        <ui:template>
                                            <Text  text="{rpt>idlReqBudget}"/>
                                        </ui:template>
                                    </ui:Column>
                                    <!--<ui:Column  width="8rem">
                                        <Label text="DL Justification" />
                                        <ui:template>
                                            <Text  text="{rpt>dlJustification}"/>
                                        </ui:template>
                                    </ui:Column>
                                    <ui:Column width="8rem">
                                        <Label text="IDL Justification" />
                                        <ui:template>
                                            <Text  text="{rpt>idlJustification}"/>
                                        </ui:template>
                                    </ui:Column>-->
                                    <ui:Column width="10rem">
                                        <Label text="DL Budget (調整)" />
                                        <ui:template>
                                            <Text text="{rpt>dlAdjBudget}"/>
                                        </ui:template>
                                    </ui:Column>
                                    <ui:Column  width="10rem">
                                        <Label text="IDL Budget (調整)" />
                                        <ui:template>
                                            <Text text="{rpt>idlAdjBudget}"/>
                                        </ui:template>
                                    </ui:Column>
                                    <ui:Column width="10rem">
                                        <Label text="DL Budget (Final))" />
                                        <ui:template>
                                            <Text text="{rpt>dlBudgetFinal}"/>
                                        </ui:template>
                                    </ui:Column>
                                    <ui:Column width="10rem">
                                        <Label text="IDL Budget (Final)" />
                                        <ui:template>
                                            <Text text="{rpt>idlBudgetFinal}"/>
                                        </ui:template>
                                    </ui:Column>
                                    <ui:Column width="8rem">
                                        <Label text="DL Allowance" />
                                        <ui:template>
                                            <Text text="{rpt>dlAllowance}"/>
                                        </ui:template>
                                    </ui:Column>
                                    <ui:Column width="8rem">
                                        <Label text="IDL Allowance" />
                                        <ui:template>
                                            <Text text="{rpt>idlAllowance}"/>
                                        </ui:template>
                                    </ui:Column>
                                    <ui:Column width="13rem">
                                        <Label text="HC Budget (Final IDL+DL)" />
                                        <ui:template>
                                            <Text text="{rpt>finalBudget}"/>
                                        </ui:template>
                                    </ui:Column>
                                </ui:Table>
                            </IconTabFilter>
                        </items>
                    </IconTabBar>
                </content>
            </Page>
        </pages>
    </App>
</mvc:View>